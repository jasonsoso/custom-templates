
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>underscore demo</title>

</head>
<body>

<script src="../Public/js/dist/lib-min.js"></script>

<script>
    $(function(){
    	test_each();
    	function test_each(){
    		console.log("test_each");
    		var arry = [1, 2, 3];
    		_.each(arry, function(i){
    			console.log(i);
    		});
    	}
    	test_map();
    	function test_map(){
    		console.log("test_map");
    		var arry = [1, 2, 3];
    		_.map(arry, function(i){
    			console.log(i*3);
    		});

    		var array1 = {one: 1, two: 2, three: 4};
    		_.map(array1, function(value, key){ 
    			console.log(value+","+key);
    		});
    	}

    	test_reduce();
    	function test_reduce(){
    		console.log("test_reduce");
    		var arry = [1, 4, 6];
    		var sum = _.reduce(arry, function(memo, num){
    			console.log(memo+","+num);
    			return memo+num;
    		},0);
    		console.log("sum:"+sum);
    	}


    	test_find();
    	function test_find(){
    		console.log("test_find");
    		var arry = [1, 3, 4, 6,9];
    		var evens  = _.find(arry, function(num){
    			console.log("num:"+num);
    			return num % 2 == 0;
    		});
    		console.log("evens:"+evens);
    	}

    	test_where();
    	function test_where(){
    		console.log("test_where");
    		var listOfPlays = [{title: "JASON",author: "Shakespeare", year: 1611},
    							{title: "JASON2",author: "Shakespeare", year: 1612},
    							{title: "JASON3",author: "Shakespeare", year: 1611}
    						];
    		var where = _.where(listOfPlays, {author: "Shakespeare", year: 1611});
    		console.log("where:"+JSON.stringify(where));

    		var where2 =  _.findWhere(listOfPlays, {year: 1611});
    		console.log("where2:"+JSON.stringify(where2));
    	}

    	test_filter();
    	function test_filter(){
    		console.log("test_filter");
    		var evens = _.filter([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    		console.log("evens:"+evens);

    		var reject = _.reject([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    		console.log("reject:"+reject);
    	}

    	test_contains();
    	function test_contains(){
    		console.log("test_contains");
    		var is_contains = _.contains([1, 2, 3], 3);
    		console.log("is_contains:"+is_contains);
    	}
    	test_invoke();
    	function test_invoke(){
    		console.log("test_invoke");
    		var invoke = _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');
    		console.log("invoke:"+invoke);
    	}
    	test_pluck();
    	function test_pluck(){
    		console.log("test_pluck");
    		var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
			var pluck = _.pluck(stooges, 'age');
    		console.log("pluck:"+pluck);
    	}
		test_max();
    	function test_max(){
    		console.log("test_max");
    		var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
			var max = _.max(stooges, function(stooge){ return stooge.age; });
    		console.log("max:"+max.age);

    		var min = _.min(stooges, function(stooge){ return stooge.age; });
    		console.log("min:"+min.age);
    	}

    	test_sortBy();
    	function test_sortBy(){
    		console.log("test_sortBy");
    		
    		var l = _.sortBy([1, 2, 3, 4, 5, 6], function(num){ return Math.sin(num); });
    		console.log("l:"+l);

    		var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
			var sortList = _.sortBy(stooges, 'age');
			console.log("sortList:"+JSON.stringify(sortList));
    	}

    	test_groupBy();
    	function test_groupBy(){
    		console.log("test_groupBy");
    		
    		var re = _.groupBy([1.3, 2.1, 2.4], function(num){ return Math.floor(num); });
			console.log("re:"+JSON.stringify(re));

    		var result = _.groupBy(['one', 'two', 'three'], 'length');
    		console.log("result:"+JSON.stringify(result));
    	}

    	test_countBy();
    	function test_countBy(){
    		console.log("test_countBy");
    		var result = _.countBy([1, 2, 3, 4, 5], function(num) {
			  return num % 2 == 0 ? 'even': 'odd';
			});
    		console.log("result:"+JSON.stringify(result));
    	}

    	test_size();
    	function test_size(){
    		console.log("test_size");
    		var size = _.size({one: 1, two: 2, three: 3});
    		console.log("size:"+size);
    	}
    	
    });
</script>
</body>
</html>
